{"version":3,"file":"bundle.js","sources":["../src/utils.js","../src/main.js"],"sourcesContent":["\r\nfunction checkType(arg,type) {\r\n    if ([...arguments].length >=2) {\r\n        return Object.prototype.toString.apply(type).substring(8, -1) === type\r\n    }\r\n    throw error('参数错误')\r\n}\r\n\r\nmodule.export = {\r\n    checkType,\r\n}\r\n","\r\nimport { checkType } from './utils'\r\n\r\nfunction Event(option) {\r\n    let eventList = new Map()\r\n    // 订阅函数\r\n    function on(type, ...fn){\r\n        let fns = eventList.get(type);\r\n        if (Array.isArray(fns)) {\r\n            eventList.set(type, [...fn].concat(...fns))\r\n        } else{\r\n            eventList.set(type, [...fn])\r\n        }\r\n    }\r\n    // 发布函数\r\n    function emit(type, ...msg){\r\n        let fns = eventList.get(type);\r\n        if (Array.isArray(fns)) {\r\n            fns.forEach(fn => {\r\n                fn(...msg)\r\n            })\r\n        }\r\n    }\r\n    // 取消订阅函数\r\n    function off(type, ...fn){\r\n        let fns = eventList.get(type);\r\n        if (Array.isArray(fns)) {\r\n            if ([...fn].length > 0) {\r\n                let filterFns = fns.filter(item => ![...fn].includes(item));\r\n                eventList.set(type, filterFns);\r\n            } else {\r\n                eventList.set(type, [])\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        on,\r\n        emit,\r\n        off,\r\n    }\r\n}\r\n\r\nexports.default = Event;\r\n"],"names":["module","export","checkType","arg","type","arguments","length","Object","prototype","toString","apply","substring","error","Event","option","eventList","Map","on","fn","fns","get","Array","isArray","set","concat","emit","msg","forEach","off","filterFns","filter","item","includes","exports","default"],"mappings":"wIAQAA,EAAOC,QACHC,UARJ,SAAmBC,EAAIC,GACnB,OAAQC,WAAWC,QAAS,EACxB,OAAOC,OAAOC,UAAUC,SAASC,MAAMN,GAAMO,UAAU,GAAI,KAAOP,EAEtE,MAAMQ,MAAM,YCFhB,SAASC,MAAMC,GACX,IAAIC,EAAY,IAAIC,IA+BpB,OACIC,GA9BJ,SAAYb,KAASc,GACjB,IAAIC,EAAMJ,EAAUK,IAAIhB,GACpBiB,MAAMC,QAAQH,GACdJ,EAAUQ,IAAInB,MAAUc,GAAIM,UAAUL,IAEtCJ,EAAUQ,IAAInB,MAAUc,KA0B5BO,KAtBJ,SAAcrB,KAASsB,GACnB,IAAIP,EAAMJ,EAAUK,IAAIhB,GACpBiB,MAAMC,QAAQH,IACdA,EAAIQ,QAAQT,IACRA,KAAMQ,MAmBdE,IAdJ,SAAaxB,KAASc,GAClB,IAAIC,EAAMJ,EAAUK,IAAIhB,GACxB,GAAIiB,MAAMC,QAAQH,GACd,OAAQD,GAAIZ,OAAS,EAAG,CACpB,IAAIuB,EAAYV,EAAIW,OAAOC,QAAab,GAAIc,SAASD,IACrDhB,EAAUQ,IAAInB,EAAMyB,QAEpBd,EAAUQ,IAAInB,QAW9B6B,QAAQC,QAAUrB"}